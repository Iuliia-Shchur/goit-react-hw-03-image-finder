{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App/App.module.css","Components/Button/Button.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Api/images-api.js","Components/Loader/Loader.js","Components/ImageGallery/ImageGallery.js","Components/Searchbar/Searchbar.js","Components/Modal/Modal.js","Components/Button/Button.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Loader","ImageGallery","Component","Searchbar","state","query","page","apiUrl","apiKey","images","handleQueryChange","e","setState","target","name","value","axios","get","then","res","data","hits","catch","err","console","log","handleSubmit","preventDefault","trim","props","onSubmit","this","className","s","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","length","modalRoot","document","querySelector","Modal","handleKeyDown","code","onToggleModal","handleBackdropClick","event","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","src","alt","Button","App","showModal","toggleModal","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c5a3afb8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2t9Jw\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2lKB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__fGEJV\",\"Modal\":\"Modal_Modal__3e2EC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__6yYTY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__k7DpO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__15I3i\"};","\r\nfunction fetchImages (query, page) {\r\n    const key = '23195406-da0192683225ba1cc94043cce';\r\n   return fetch(`https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`)\r\n   .then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n    \r\n    return Promise.reject(new Error(`There is no ${query} images`));\r\n  })\r\n  \r\n}\r\n\r\nconst api = {\r\n    fetchImages,\r\n};\r\n\r\nexport default api;\r\n\r\n","import { ImSpinner } from \"react-icons/im\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\n\r\n\r\nconst styles = {\r\n  spinner: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 10,\r\n    fontSize: 24,\r\n  },\r\n};\r\n\r\n function Loader({ query }) {\r\n  // const data = {\r\n  //     data: query,\r\n  //     data:{\r\n  //         hits: {\r\n                \r\n  //           },\r\n\r\n  //         },\r\n  //   images: [],\r\n  //     };\r\n    \r\n  \r\n  return (\r\n    <div role=\"alert\">\r\n      <div style={styles.spinner}>\r\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\r\n        Загружаем...\r\n      </div>\r\n      {/* <ImageGallery data={data} /> */}\r\n      <ImageGalleryItem/>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;","import { Component } from \"react\";\r\nimport imagesAPI from \"../Api/images-api\";\r\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\nimport s from './ImageGallery.module.css'\r\nimport Loader from \"../Loader/Loader\";\r\n\r\n\r\n\r\n class ImageGallery extends Component {\r\n    // state = {\r\n    //   data: null,\r\n    //   error:null,\r\n    //   page: 1,\r\n    //   status: \"idle\",\r\n    // };\r\n\r\n    // componentDidUpdate(prevProps, PrevState) {\r\n    //     const prevName = prevProps.query;\r\n    //     const nextName = this.props.query;\r\n        \r\n    //     if (prevName !== nextName) {\r\n    //       this.setState({ status: \"pending\" });\r\n    //         imagesAPI\r\n    //         .fetchImages(nextName)\r\n    //         .then((data) => this.setState({ data, status: \"resolved\" }))\r\n    //         .catch((error) => this.setState({ error, status: \"rejected\" }));\r\n            \r\n    //     } \r\n\r\n    //   }\r\n\r\n\r\n\r\n    render() {\r\n      return (\r\n        <div></div>\r\n      )\r\n       \r\n    //     const { data, error, status } = this.state;\r\n    // const { query } = this.props;\r\n\r\n    // if (status === \"idle\") {\r\n    //   return (<div>Type your query</div>);\r\n    // }\r\n\r\n    // if (status === \"pending\") {\r\n    //   return (\r\n    //     <Loader/>\r\n    //   );\r\n    // }\r\n\r\n    // // if (status === \"rejected\") {\r\n    // //   return <PokemonErrorView message={error.message} />;\r\n    // // }\r\n    // if (status === \"resolved\") {\r\n    //   return (<ul className={s.ImageGallery}>\r\n    //         <ImageGalleryItem data={data}/>\r\n    //       </ul>)\r\n        \r\n           \r\n    //     }\r\n  }\r\n  }\r\n\r\n        export default ImageGallery;","import { Component } from \"react\";\r\nimport s from './Searchbar.module.css';\r\nimport axios from \"axios\";\r\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\r\n\r\nclass Searchbar extends Component {\r\n    state ={\r\n        query: '',\r\n        page: 1,\r\n        apiUrl: 'https://pixabay.com/api',\r\n        apiKey: '23195406-da0192683225ba1cc94043cce',\r\n        images: [],\r\n        // /?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12'\r\n    }\r\n\r\n    handleQueryChange = (e) => {\r\n        // this.setState({query: event.currentTarget.value.toLowerCase()});\r\n        this.setState({ [e.target.name]: e.target.value}, () => {\r\n          axios.get(`${this.state.apiUrl}/?q=${this.state.query}&page=${this.state.page}&key=${this.state.apiKey}&image_type=photo&orientation=horizontal&per_page=12`)\r\n          .then(res => this.setState({images: res.data.hits}))\r\n          .catch(err => console.log(err))\r\n        });\r\n    };\r\n\r\n    handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        if(this.state.query.trim() === '') {\r\n            return;\r\n        }\r\n        this.props.onSubmit(this.state.query);\r\n\r\n        this.setState({query: ''});\r\n    }\r\n\r\n    render() {\r\n      console.log(this.state.images);\r\n\r\n  return (\r\n    <div>\r\n        <header className={s.Searchbar}>\r\n  <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n    <button type=\"submit\" className={s.SearchFormButton}>\r\n      <span className={s.SearchFormButtonLabel}>Search</span>\r\n    </button>\r\n\r\n    <input\r\n      name=\"query\"\r\n      value={this.state.query}\r\n      onChange={this.handleQueryChange}\r\n      className={s.SearchFormInput}\r\n      type=\"text\"\r\n      // autocomplete=\"off\"\r\n      // autofocus\r\n      placeholder=\"Search images and photos\"\r\n      \r\n    /> \r\n  </form>\r\n  \r\n  </header>\r\n  \r\n  {this.state.images.length > 0 ? \r\n    (<ImageGallery images={this.state.images}/>) \r\n    : null}\r\n    </div>\r\n  )\r\n}\r\n}\r\n\r\n\r\nexport default Searchbar;","import { Component } from 'react';\r\nimport { isCompositeComponentWithType } from 'react-dom/test-utils';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css'\r\n\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nclass Modal extends Component {\r\n    \r\ncomponentDidMount() {\r\n        console.log('Component did mount');\r\n        window.addEventListener('keydown', this.handleKeyDown)\r\n    }\r\n\r\n\r\ncomponentWillUnmount() {\r\n    console.log('Component will unmount');\r\n   window.removeEventListener('keydown', this.handleKeyDown)\r\n}\r\n\r\nhandleKeyDown = e => {\r\n  if(e.code === 'Escape') {\r\n      this.props.onToggleModal();\r\n  }\r\n}\r\n\r\nhandleBackdropClick = event =>{\r\n\r\nif( event.currentTarget === event.target) {\r\n    this.props.onToggleModal();\r\n}\r\n}\r\n\r\nrender() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\r\n  <div className={s.Modal}>\r\n        {/* {this.props.children}  */}\r\n    <img src=\"\" alt=\"\" />\r\n  </div>\r\n</div>, modalRoot)\r\n        \r\n}\r\n\r\n};\r\n\r\n\r\nexport default Modal;","import s from './Button.module.css'\r\n\r\nfunction Button () {\r\n    return (\r\n    <button type=\"button\" className={s.Button}>\r\n    Load more\r\n</button>\r\n)\r\n}\r\n\r\nexport default Button;","import { Component } from \"react\";\nimport s from \"./App.module.css\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\n\n\n\nclass App extends Component {\n\n  state = {\n    query: '',\n    showModal: false,\n    // page: 1,\n    // results: [],\n    // loading: false,\n\n  }\n\n  toggleModal = () => {\n    this.setState(({showModal}) => ({\n      showModal: !showModal\n    }))\n  }\n  handleFormSubmit = (query) => {\n    this.setState({query});\n  }\n\n\n  render () {\n    const {showModal} = this.state;\n    const {toggleModal, handleFormSubmit} = this;\n    return (\n    <div className={s.App}>\n      <Searchbar onSubmit={handleFormSubmit}/>\n      <ImageGallery query={this.state.query} onToggleModal={toggleModal}/>\n      <Button onClick={toggleModal}/>\n      {showModal && <Modal onToggleModal={toggleModal} />}\n\n      \n    </div>\n    );\n    \n  }\n \n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2x76L\",\"SearchForm\":\"Searchbar_SearchForm__1YE1p\",\"SearchFormButton\":\"Searchbar_SearchFormButton__SdRx2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hBfui\",\"SearchFormInput\":\"Searchbar_SearchFormInput__vT5bo\"};"],"sourceRoot":""}