{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/App/App.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Api/images-api.js","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Loader/Loader.js","Components/ImageGallery/ImageGallery.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","Components/App/App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","modalRoot","document","querySelector","Modal","handleKeyDown","e","code","props","onToggleModal","handleBackdropClick","event","currentTarget","target","console","log","window","addEventListener","this","removeEventListener","createPortal","className","s","Overlay","onClick","src","modalImg","alt","tags","Component","ImageGalleryItem","id","previewImg","showModal","ImageGalleryItemImage","Loader","ImageGallery","state","currentImg","toggleModal","setState","onImgClick","imageListContent","images","map","img","webformatURL","largeImageURL","Searchbar","query","page","apiUrl","apiKey","handleQueryChange","inputValue","value","name","axios","get","then","res","data","hits","catch","err","handleSubmit","preventDefault","trim","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","SearchFormInput","placeholder","length","Button","App","handleFormSubmit","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.c1d4d97c.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2t9Jw\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2lKB0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__fGEJV\",\"Modal\":\"Modal_Modal__3e2EC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__6yYTY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__15I3i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__k7DpO\"};","function fetchImages(query, page) {\n  const key = \"23195406-da0192683225ba1cc94043cce\";\n  return fetch(\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12`\n  ).then((response) => {\n    if (response.ok) {\n      return response.json();\n    }\n\n    return Promise.reject(new Error(`There is no ${query} images`));\n  });\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","import { Component } from \"react\";\nimport { isCompositeComponentWithType } from \"react-dom/test-utils\";\nimport { createPortal } from \"react-dom\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    console.log(\"Component did mount\");\n    window.addEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    console.log(\"Component will unmount\");\n    window.removeEventListener(\"keydown\", this.handleKeyDown);\n  }\n\n  handleKeyDown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.onToggleModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.onToggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>\n          <img src={this.props.modalImg} alt={this.props.tags} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import s from \"./ImageGalleryItem.module.css\";\nimport Modal from \"../Modal/Modal\";\n\nfunction ImageGalleryItem({ id, previewImg,tags, onToggleModal, showModal, modalImg, }) {\n  \n  return (\n    <>\n      <li className={s.ImageGalleryItem} key={id}>\n          <img\n            src={previewImg}\n            alt={tags}\n            className={s.ImageGalleryItemImage}\n            onClick={onToggleModal}\n            \n          />\n        </li>\n\n        {showModal && <Modal modalImg={modalImg} onToggleModal={onToggleModal}tags={tags}/>}\n        \n      \n    </>\n  );\n}\n\nexport default ImageGalleryItem;\n","import { ImSpinner } from \"react-icons/im\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\n\nconst styles = {\n  spinner: {\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 10,\n    fontSize: 24,\n  },\n};\n\nfunction Loader({ query }) {\n  // const data = {\n  //     data: query,\n  //     data:{\n  //         hits: {\n\n  //           },\n\n  //         },\n  //   images: [],\n  //     };\n\n  return (\n    <div role=\"alert\">\n      <div style={styles.spinner}>\n        <ImSpinner size=\"32\" className=\"icon-spin\" />\n        Загружаем...\n      </div>\n      {/* <ImageGallery data={data} /> */}\n      <ImageGalleryItem />\n    </div>\n  );\n}\n\nexport default Loader;\n","import { Component } from \"react\";\nimport imagesAPI from \"../Api/images-api\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"./ImageGallery.module.css\";\nimport Loader from \"../Loader/Loader\";\nimport PropTypes from 'prop-types';\nimport Modal from \"../Modal/Modal\";\n\nclass ImageGallery extends Component {\n  state ={\n    showModal: false,\n    currentImg: '',\n    modalImg: {},\n  }\n  // state = {\n  //   data: null,\n  //   error:null,\n  //   page: 1,\n  //   status: \"idle\",\n  // };\n\n  // componentDidUpdate(prevProps, PrevState) {\n  //     const prevName = prevProps.query;\n  //     const nextName = this.props.query;\n\n  //     if (prevName !== nextName) {\n  //       this.setState({ status: \"pending\" });\n  //         imagesAPI\n  //         .fetchImages(nextName)\n  //         .then((data) => this.setState({ data, status: \"resolved\" }))\n  //         .catch((error) => this.setState({ error, status: \"rejected\" }));\n\n  //     }\n\n  //   }\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  onImgClick = modalImg => {\n    this.setState({modalImg});\n    this.toggleModal();\n  }\n\n  render() {\n    let imageListContent;\n    const {images} = this.props;\n    \n\nif (images) {\n  imageListContent = (\n    <ul className={s.ImageGallery}>\n     {images.map((img) => (\n       <ImageGalleryItem\n       key={img.id}\n       previewImg={img.webformatURL}\n       tags={img.tags}\n       modalImg={img.largeImageURL}\n       onToggleModal={() => this.toggleModal()}\n       showModal={this.state.showModal}\n       onImgClick={this.onImgClick}\n       \n       />\n      \n     ))}\n    </ul>\n    \n  );\n\n} else {\n  imageListContent = null;\n}\n\n    return <div>\n      {imageListContent}\n      \n      </div>;\n\n    //     const { data, error, status } = this.state;\n    // const { query } = this.props;\n\n    // if (status === \"idle\") {\n    //   return (<div>Type your query</div>);\n    // }\n\n    // if (status === \"pending\") {\n    //   return (\n    //     <Loader/>\n    //   );\n    // }\n\n    // // if (status === \"rejected\") {\n    // //   return <PokemonErrorView message={error.message} />;\n    // // }\n    // if (status === \"resolved\") {\n    //   return (<ul className={s.ImageGallery}>\n    //         <ImageGalleryItem data={data}/>\n    //       </ul>)\n\n    //     }\n  }\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array\n}\n\nexport default ImageGallery;\n","import { Component } from \"react\";\nimport s from \"./Searchbar.module.css\";\nimport axios from \"axios\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\n\nclass Searchbar extends Component {\n  state = {\n    query: \"\",\n    page: 1,\n    apiUrl: \"https://pixabay.com/api\",\n    apiKey: \"23195406-da0192683225ba1cc94043cce\",\n    images: [],\n    // /?q=${query}&page=${page}&key=${key}&image_type=photo&orientation=horizontal&per_page=12'\n  };\n\n  handleQueryChange = (e) => {\n    // this.setState({query: event.currentTarget.value.toLowerCase()});\n    const inputValue = e.target.value;\n    this.setState({ [e.target.name]: inputValue }, () => {\n      if (inputValue === '') {\n        this.setState({images: []})\n\n      } else {\n        axios\n        .get(\n          `${this.state.apiUrl}/?q=${this.state.query}&page=${this.state.page}&key=${this.state.apiKey}&image_type=photo&orientation=horizontal&per_page=12`\n        )\n        .then((res) => this.setState({ images: res.data.hits }))\n        .catch((err) => console.log(err));\n      }\n      \n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    if (this.state.query.trim() === \"\") {\n      return;\n    }\n    this.props.onSubmit(this.state.query);\n\n    this.setState({ query: \"\" });\n  };\n\n  render() {\n    console.log(this.state.images);\n\n    return (\n      <div>\n        <header className={s.Searchbar}>\n          <form className={s.SearchForm} onSubmit={this.handleSubmit}>\n            <button type=\"submit\" className={s.SearchFormButton}>\n              <span className={s.SearchFormButtonLabel}>Search</span>\n            </button>\n\n            <input\n              name=\"query\"\n              value={this.state.query}\n              onChange={this.handleQueryChange}\n              className={s.SearchFormInput}\n              type=\"text\"\n              // autocomplete=\"off\"\n              // autofocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n\n        {this.state.images.length > 0 ? (\n          <ImageGallery images={this.state.images} />\n        ) : null}\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import s from \"./Button.module.css\";\n\nfunction Button() {\n  return (\n    <button type=\"button\" className={s.Button}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n","import { Component } from \"react\";\nimport s from \"./App.module.css\";\nimport Searchbar from \"../Searchbar/Searchbar\";\nimport ImageGallery from \"../ImageGallery/ImageGallery\";\nimport Modal from \"../Modal/Modal\";\nimport Button from \"../Button/Button\";\n\nclass App extends Component {\n  state = {\n    query: \"\",\n    showModal: false,\n    // page: 1,\n    // results: [],\n    // loading: false,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n  \n  handleFormSubmit = (query) => {\n    this.setState({ query });\n  };\n\n  render() {\n    const { showModal } = this.state;\n    const { toggleModal, handleFormSubmit } = this;\n    return (\n      <div className={s.App}>\n        <Searchbar onSubmit={handleFormSubmit} />\n        {/* <ImageGallery query={this.state.query} onToggleModal={toggleModal} images={this.props.images}/> */}\n        {/* <Button onClick={toggleModal} />\n        {showModal && <Modal onToggleModal={toggleModal} />} */}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./Components/App/App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2x76L\",\"SearchForm\":\"Searchbar_SearchForm__1YE1p\",\"SearchFormButton\":\"Searchbar_SearchFormButton__SdRx2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__hBfui\",\"SearchFormInput\":\"Searchbar_SearchFormInput__vT5bo\"};"],"sourceRoot":""}